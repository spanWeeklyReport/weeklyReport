<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      >
    <body>
	    <ui:composition>
	    
	    <script type="text/javascript">
		$(document).ready(function(){
			
			$(".weeknumber").val("Select Week");
			
			$("#taskform\\:Panel-details").hide();
			if ($(".weeknumber").val() != 0) {
			 
			  $("#taskform\\:Panel-details").show();

			}
			
		//tabs
         $(function() {
            $( "#tabs-1" ).tabs();
         });
         
       //Validations
       
       
        //login fields cannot b empty 
         $("#signup").submit(function (){

			  if ($(".username").val() == "" || $(".password").val() == "" ){
			    
			    alert("Please enter username and/or password");
			    return false;
			  }
			 

			});
       
       
       

       
       //task form validation
	    $(".fetch").click(function() {
	    	
	    	 //select week validation
				if ($(".weeknumber").val()== 0 ) { 
				
				alert("Please select week");
				   return false;
				}
				  
				  else if ($(".weeknumber").val() > 52) {
				   
				    alert("Please select a valid week range");
				    return false;
				  }
				  
				  else {}
	    });
	    	 
	   $(".s-button").click(function() {
				
					//Calculating sum of planned tasks
					var planned = parseInt($(".planned").val().trim());
					var completed = parseInt($(".completed").val().trim());
					var hold = parseInt($(".hold").val().trim());
					var inprogress = parseInt($(".inprogress").val().trim());
					
					if (planned &gt; completed + hold + inprogress) {
					 alert("Please distribute the planned tasks accordingly"); 
					 return false;
				      }
				
					else if ( planned &lt; completed + hold + inprogress) { 
					
						alert ("You seem to have worked on more tasks than actually planned");
						 return false;
					
					}
					
					else {}
				
				
				//Making all fields required
				
		    if ($(".planned").val() == "" || $(".completed").val() == "" || $(".hold").val() == "" || $(".inprogress").val() == "" || $(".count-bill").val() == "" || $(".count-sha").val() == "" || $(".count-billR").val() == "" || $(".count-shaR").val() == "" ||
					$(".count-projIncB").val() == "" ||	$("..count-projIncSh").val() == "" ||	$(".count-projdecB").val() == "" ||	$(".count-projDecSh").val() == "" )		{
						 
						  alert ("You have missed out on filling Task/Resource Details");
						  return false;
						  
						}
						
						else {}
				  
		}); //end of task form validation

        //Risk Validation
        
        $(".add-button").click(function(){

			  if ($(".risk-des").val() == "" || $(".risk-res").val() == "" || $(".risk-type").val() == 0 ) {
			      
			      alert("Please fill the risk details properly");
			       return false;
			      
			      }
		
		});
       
        
         //Only numbers validation       
         $(".integer").numeric(false, function() { alert("Please enter only numeric values"); this.value = ""; this.focus(); });
		         
          
         //Calender
         
         $('.weeknumber').datepicker({
        	 buttonImage: "/images/calender.png",
        	 buttonImageOnly: true,
        	 yearRange: "2002:2016",
        	 changeYear: true,
        	 changeMonth: true,
               showOtherMonths: true,
                  onSelect: function (dateText, inst) {
                      $(this).val($.datepicker.iso8601Week(new Date(dateText)));
                  }
              });

         
         
         //Calculating total fields
           
         var bill_count = $(".count-bill").val();
        var shadow_count = $(".count-sha").val();
        if (bill_count == "" &amp;&amp; shadow_count == "" || bill_count == ""  || shadow_count == "" ) { 
        	
        	$(".total-count").empty();
        	
        }
        else {
          var bill_count = parseInt($(".count-bill").val());
        var shadow_count = parseInt($(".count-sha").val());
       
        	$(".total-count").text(bill_count+shadow_count);
        }
        
	      
        var rescL_bill = $(".count-billR").val();
        var rescL_sha = $(".count-shaR").val();
        
        if (rescL_bill == "" &amp;&amp; rescL_sha =="" || rescL_bill == "" || rescL_sha =="") {
        	
        	$(".total-resource").empty();
        	
            }
        else {
        
         var rescL_bill = parseInt($(".count-billR").val());
         var rescL_sha = parseInt($(".count-shaR").val());
         
	        	 $(".total-resource").text(rescL_bill+rescL_sha);
	        	 
        }
        
        var PInc_bill = $(".count-projIncB").val();
        var PInc_sha = $(".count-projIncSh").val();
        
        if (PInc_bill == "" &amp;&amp; PInc_sha =="" || PInc_bill == "" || PInc_sha =="") {
        	
        	$(".total-inc").empty();
        	
        }
        else {
	       
         var PInc_bill = parseInt($(".count-projIncB").val());
         var PInc_sha = parseInt($(".count-projIncSh").val());
        
	        	 $(".total-inc").text(PInc_bill+PInc_sha);
	     
        }
        
        
        var PDec_bill = $(".count-projdecB").val();
        var PDec_sha = $(".count-projDecSh").val();
        
        if (PDec_bill == "" &amp;&amp; PDec_sha =="" || PDec_bill == "" || PDec_sha =="" ) {
        	
        	$(".total-dec").empty();
        	
        }
        else {
        
         var PDec_bill = parseInt($(".count-projdecB").val());
         var PDec_sha = parseInt($(".count-projDecSh").val());
         
         $(".total-dec").text(PDec_bill+PDec_sha);
         
        }
         
       
         
         
		});
         
      </script>
      	
				
	    </ui:composition>
    </body>
</html>
