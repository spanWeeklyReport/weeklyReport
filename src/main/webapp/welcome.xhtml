<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:f="http://java.sun.com/jsf/core" xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
       xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:a4j="http://richfaces.org/a4j"
      >

    <h:head>
	   	<title>Welcome</title>
		<link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700|Lato:400,100,300,700,900' rel='stylesheet' type='text/css'></link>
		<link rel="stylesheet" href="style.css"></link>
	    
	    <link href = "http://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css
         " rel = "stylesheet" ></link>
         
	    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>	
		<script src = "http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>  
	</h:head>
    
    <h:body>
    
    <div class="container2" >
		   
    
    <header>
             <ui:insert name="header" >
		  <ui:include src="commonHeader.xhtml" />
		</ui:insert>
    
				<h1>Please fill in the Weekly Status</h1>
				 
     </header>  
     
           
		            
     
     <div class="form">
    		<h:form id="taskform">
    		  
    		     <p class="contact selectbox"><h:outputLabel value="Select Project" for="select_project"  /></p>
				<h:selectOneMenu value="#{taskDetails.projectDetailsName}" class="select-style gender">								   
						<f:selectItems value="#{projectDetailsService.getProjectNames()}" />    							
				</h:selectOneMenu>				  
				  <br /> <br />
		        <p class="contact selectbox"><h:outputLabel value="Select Week" for="select_week" /></p>
				<h:selectOneMenu value="#{taskDetails.weekNo}" class="select-style gender" >
						  
						   <f:selectItem itemValue="1" itemLabel="1" />
						   <f:selectItem itemValue="2" itemLabel="2" />	  
						   <f:selectItem itemValue="3" itemLabel="3" />
						   <f:selectItem itemValue="4" itemLabel="4" />
						   <f:selectItem itemValue="5" itemLabel="5" /> 
						   <f:selectItem itemValue="6" itemLabel="6" /> 
						   <f:selectItem itemValue="7" itemLabel="7" /> 
						   <f:selectItem itemValue="8" itemLabel="8" />
						   <f:selectItem itemValue="9" itemLabel="9" />
						   <f:selectItem itemValue="10" itemLabel="10" />
						   <f:selectItem itemValue="11" itemLabel="11" />
						   <f:selectItem itemValue="12" itemLabel="12" />
						   <f:selectItem itemValue="13" itemLabel="13" />
						   <f:selectItem itemValue="14" itemLabel="14" />
						   <f:selectItem itemValue="15" itemLabel="15" />
						   <f:selectItem itemValue="16" itemLabel="16" />
						   <f:selectItem itemValue="17" itemLabel="17" />
						   <f:selectItem itemValue="18" itemLabel="18" />
						   <f:selectItem itemValue="19" itemLabel="19" />
						   <f:selectItem itemValue="20" itemLabel="20" />
						   <f:selectItem itemValue="21" itemLabel="21" />
						   <f:selectItem itemValue="22" itemLabel="22" />
						   <f:selectItem itemValue="23" itemLabel="23" />
						   <f:selectItem itemValue="24" itemLabel="24" />
						   <f:selectItem itemValue="25" itemLabel="25" />
						   <f:selectItem itemValue="26" itemLabel="26" />
						   <f:selectItem itemValue="27" itemLabel="27" />
						   <f:selectItem itemValue="28" itemLabel="28" />
						   <f:selectItem itemValue="29" itemLabel="29" />
						   <f:selectItem itemValue="30" itemLabel="30" />
						   <f:selectItem itemValue="31" itemLabel="31" />
						   <f:selectItem itemValue="32" itemLabel="32" />
						   <f:selectItem itemValue="33" itemLabel="33" />
						   <f:selectItem itemValue="34" itemLabel="34" />
						   <f:selectItem itemValue="35" itemLabel="35" />
						   <f:selectItem itemValue="36" itemLabel="36" />
						   <f:selectItem itemValue="37" itemLabel="37" />
						   <f:selectItem itemValue="38" itemLabel="38" />
						   <f:selectItem itemValue="39" itemLabel="39" />
						   <f:selectItem itemValue="40" itemLabel="40" />
						   <f:selectItem itemValue="41" itemLabel="41" />
						   <f:selectItem itemValue="42" itemLabel="42" />
						   <f:selectItem itemValue="43" itemLabel="43" />
						   <f:selectItem itemValue="44" itemLabel="44" />
						   <f:selectItem itemValue="45" itemLabel="45" />
						   <f:selectItem itemValue="46" itemLabel="46" />
						   <f:selectItem itemValue="47" itemLabel="47" />
						   <f:selectItem itemValue="48" itemLabel="48" />
						   <f:selectItem itemValue="49" itemLabel="49" />
						   <f:selectItem itemValue="50" itemLabel="50" />
						   <f:selectItem itemValue="51" itemLabel="51" />
						   <f:selectItem itemValue="52" itemLabel="52" />
						   					   
						   							
				</h:selectOneMenu>
				
				 <br /> <br />
				
	<h:commandButton id="fetch" value="Select" class="buttom" action="#{taskDetailsService.checkTasks(taskDetails)}" ></h:commandButton>
				
				  <br /> <br />
	<div id="Panel-details" >
				  
		<div id = "tabs-1">
			         <ul>
			            <li><a href = "#tabs-2">Task Details</a></li>
			           
			            <li><a href = "#tabs-4">Resource Details</a></li>
			         </ul>
					  
			<div id = "tabs-2">
			    
			    <table>
			     
			     <thead>
			    
				      <th></th>
				      <th>Planned</th>
				      <th>Completed</th>
				      <th>Hold</th>
				      <th>In Progress</th>
			      
			     </thead>
			     <tr>
			         <td>Last Week</td>
			         <td>9</td>
			         <td>10</td>
			         <td>0</td>
			         <td>0</td>
			     
			     </tr>
			     <tr>
			     
			      <td>Current Week</td>
			         <td><h:inputText value="#{taskDetails.plannedTask}" id="tasks_planned" class="numeric" 
                requiredMessage="Please enter planned tasks" ></h:inputText></td>
			         <td><h:inputText value="#{taskDetails.completedTask}" id="tasks_completed" class="numeric"  ></h:inputText></td>
			         <td><h:inputText value="#{taskDetails.holdTask}" id="tasks_onhold" class="numeric"  > </h:inputText></td>
			         <td><h:inputText value="#{taskDetails.inprogressTask}" id="tasks_inprogress" class="numeric"  > </h:inputText></td>
			     
			     </tr>
			    
			    </table>
				  
    			 
    			
    			
    	</div>
    			
    	<div id ="tabs-4" >
    			
    			 <table class="resource-table">
			     
			     <thead>
			    
				      <th></th>
				      <th>Count</th>
				      <th>Resource loading %</th>
				      <th>Proj. Increase</th>
				      <th>Proj. Decrease</th>
			      
			     </thead>
			     <tr>
			         <td>Billable</td>
			         <td><h:inputText value="#{taskDetails.billedResources}" id="billed_resc" class="count_bill" > </h:inputText></td>
			         <td><h:inputText value="#{taskDetails.resourceLoadingB}" id="resc_l_b" class="numeric" > </h:inputText></td>
			         <td><h:inputText value="#{taskDetails.projectIncB}" id="proj_inc" class="numeric" > </h:inputText></td>
			         <td><h:inputText value="#{taskDetails.projectDecB}" id="proj_dec" class="numeric" > </h:inputText></td>
			     
			     </tr>
			     <tr>
			     
			      <td>Shadow</td>
			         <td><h:inputText value="#{taskDetails.sharedResources}"  id="shadow_resc" class="count_sh" > </h:inputText></td>
			         <td><h:inputText value="#{taskDetails.resourceLoadingSh}" id="resc_l_sh" class="numeric" > </h:inputText></td>
			         <td><h:inputText value="#{taskDetails.projectIncSh}" id="proj_inc_sh" class="numeric" > </h:inputText></td>
			         <td><h:inputText value="#{taskDetails.projectDecSh}" id="proj_dec_sh" class="numeric" > </h:inputText></td>
			     
			     </tr>
			     
			     <tr>
			     
			      <td>Total</td>
			         <td class="total-count"></td>
			         <td class="total-resource"></td>
			         <td class="total-inc"></td>
			         <td class="total-dec"></td>
			     
			     </tr>
			    
			    </table>
    			
    			
    	</div>
    			                                                       
                	 
           </div>
           
           <div id = "Risk-Details">
           
           <div class="div-inner">
           
           <h2 class="panel-heading">Project Updates</h2>
           
               <div class="risk_row">
                  <h:inputTextarea rows="5" cols="50" value="#{taskDetails.projectUpdates}" class="update-textarea"  />
               
    		   </div>
    	   </div>
    			
    	  </div>
           
           <div id = "Risk-Details">
           
           <div class="div-inner">
           
           <h2 class="panel-heading">Risk Details</h2>
           
            <div class="risk_row">
           
		                <h:outputLabel value="Risk Type" for="risks_type"  />
		    			<h:selectOneMenu  class="risk-input" value="#{riskDetails.riskType}" >								  
								   <f:selectItem itemValue="0" itemLabel="Select Risk" />
								   <f:selectItem itemValue="High" itemLabel="High Risk" />	  
								   <f:selectItem itemValue="Medium" itemLabel="Medium Risk" />
								   <f:selectItem itemValue="Low" itemLabel="Low Risk" />
						</h:selectOneMenu>
		    			
		    			<h:outputLabel value="Risk Description" for="ass_risks"   /> 
		    			<h:inputText  id="ass_risks" class="risk-input" value="#{riskDetails.riskDescription}" />
		    			
		    			<h:outputLabel value="Responsible Person" for="ass_risksresp"   /> 
		    			<h:inputText  id="ass_risksresp" class="risk-input" value="#{riskDetails.riskResponsible}"  /> 
		    		    <h:commandButton value="Add" action="#{taskDetailsService.addRisks(taskDetails ,riskDetails)}" />
    		   </div>
    		   
    		<h:dataTable  var="risk" value="#{taskDetails.riskDetailsList}"
    			styleClass="order-table"
    			headerClass="order-table-header"
    			rowClasses="order-table-odd-row,order-table-even-row"
    		>

    		<h:column>
    			
    			<f:facet name="header">Risk Type</f:facet>
    			#{risk.riskType}
    				
    		</h:column>
    			
    		<h:column>
    			
    			<f:facet name="header">Risk Description</f:facet>
    			#{risk.riskDescription}
    				
    		</h:column>
    			
    		<h:column>
    				
    			<f:facet name="header">Responsible Person</f:facet>
    			#{risk.riskResponsible}
    				
    		</h:column>
    		
    		<h:column>
    				
    			<f:facet name="header">Action</f:facet>
    				
    			<h:commandLink value="Delete" 
                                   action="#{taskDetailsService.deleteRisks(taskDetails,risk)}" />
    				
    		</h:column>
    			
    		</h:dataTable>
    		
    		   
    	   </div>
    			
    	  </div>
    	  <h:commandButton id="submit" value="SUBMIT" class="buttom s-button"  action="#{taskDetailsService.addTasks(taskDetails)}" >
    	 
    	  
    	  </h:commandButton>
    	  
    	  <h:commandButton id="submit2" 
         value="Generate Report" class="buttom" action="#{taskDetailsService.showResult(taskDetails)}">
         <f:param name="username" value="JSF 2.0 User" />
      </h:commandButton>
        </div>
        
        
     </h:form>
   
   
   <br />
   
   
      </div> 
  </div>  
  <footer>
	    	<ui:insert name="footer" >
	    	  <ui:include src="commonFooter.xhtml" />
	    	</ui:insert>
  </footer>
		
		
  </h:body>
</html>